@model ParentsData
@{
    var patientId = ViewBag.Id ?? "";
}

<div class="container mt-2">

    @if (Model == null)
    {
        <div class="alert alert-info">
            Este paciente no tiene datos familiares cargados todavía.
        </div>

        <button id="btnCreateParentsData"
                class="btn btn-primary"
                data-patient-id="@patientId">
            Crear datos familiares
        </button>
    }
    else
    {
        <h5 class="mt-3">Padre</h5>
        <div class="row border p-3 rounded bg-light mb-4">
            <div class="col-md-4"><strong>Nombre:</strong></div>
            <div class="col-md-8">@Model.FatherName</div>

            <div class="col-md-4"><strong>Fecha de nacimiento:</strong></div>
            <div class="col-md-8">@Model.FatherBirthDate.ToString("dd/MM/yyyy")</div>

            <div class="col-md-4"><strong>Grupo sanguíneo:</strong></div>
            <div class="col-md-8">@Html.DisplayFor(model => model.FatherBloodType)</div>

            <div class="col-md-4"><strong>Ocupación:</strong></div>
            <div class="col-md-8">@Model.FatherWork</div>
        </div>

        <h5 class="mt-3">Madre</h5>
        <div class="row border p-3 rounded bg-light mb-4">
            <div class="col-md-4"><strong>Nombre:</strong></div>
            <div class="col-md-8">@Model.MotherName</div>

            <div class="col-md-4"><strong>Fecha de nacimiento:</strong></div>
            <div class="col-md-8">@Model.MotherBirthDate.ToString("dd/MM/yyyy")</div>

            <div class="col-md-4"><strong>Grupo sanguíneo:</strong></div>
            <div class="col-md-8">@Html.DisplayFor(model => model.MotherBloodType)</div>

            <div class="col-md-4"><strong>Ocupación:</strong></div>
            <div class="col-md-8">@Model.MotherWork</div>
        </div>

        <h5 class="mt-3">Hermanos</h5>
        <div class="row border p-3 rounded bg-light mb-4">
            <div class="col-md-4"><strong>Cantidad:</strong></div>
            <div class="col-md-8">@Model.BrothersCount</div>
        </div>

        <button id="btnEditParentsData"
                class="btn btn-secondary"
                data-edit-parent
                data-id="@Model.Id">
            Editar datos familiares
        </button>
    }
</div>

<script>
    document.dispatchEvent(new Event("parents:dataLoaded"));
</script>

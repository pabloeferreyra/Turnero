@model Turnero.Models.Turn
@using System;
@using System.Globalization;
@{
    ViewData["Title"] = "Crear Turno";
}

<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"></script>
<script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/4.0.0/jquery.validate.unobtrusive.min.js" integrity="sha512-xq+Vm8jC94ynOikewaQXMEkJIOBp7iArs3IhFWSWdRT3Pq8wFz46p+ZDFAR7kHnSFf+zUv52B3prRYnbDRdgog==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.6.15/dist/sweetalert2.all.min.js"></script>
<script src="https://cdn.datatables.net/v/bs5/jszip-2.5.0/dt-1.13.3/af-2.5.2/b-2.3.5/b-html5-2.3.5/b-print-2.3.5/date-1.3.1/fc-4.2.1/fh-3.3.1/kt-2.8.1/r-2.4.0/rg-1.3.0/rr-1.3.2/sc-2.1.0/sr-1.2.1/datatables.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.2/moment.min.js"></script>
<script src="https://cdn.datatables.net/responsive/2.4.0/js/dataTables.responsive.min.js"></script>
<script src="~/js/createTurn.js"></script>

<div class="card">
    <div class="card-header">
        <h1>Crear</h1>
    </div>
    <form method="post">
        <div class="card-body">

            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="form-group">
                <label asp-for="Name" class="control-label"></label>
                <input asp-for="Name" id="clientName" class="form-control" />
                <span asp-validation-for="Name" id="clientValidation" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Dni" class="control-label"></label>
                <input asp-for="Dni" id="dniCliente" class="form-control" />
                <span asp-validation-for="Dni" id="dniValidation" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Medic" class="control-label"></label>
                <select asp-for="Medic.Id" id="medicId"
                        class="form-control medicId"
                        asp-items="@(new SelectList(ViewBag.Medics, "Id", "Name"))"></select>
            </div>
            <div class="form-group">
                <label asp-for="DateTurn" class="control-label"></label>
                <input id="DateTurnCreate" asp-for="DateTurn" type="text" class="form-control" data-date-format="dd/MM/yyyy" />
                <span asp-validation-for="DateTurn" id="dateValidation" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Time" class="control-label"></label>
                <select asp-for="Time.Id" id="timeTurn"
                        class="form-control"
                        asp-items="@(new SelectList(ViewBag.Time, "Id", "Time"))"></select>
                <span asp-validation-for="Time" id="timeValidation" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="SocialWork" class="control-label"></label>
                <input asp-for="SocialWork" id="socialWork" class="form-control" />
            </div>
            <div class="form-group">
                <label asp-for="Reason" class="control-label"></label>
                <input asp-for="Reason" id="reason" class="form-control" />
            </div>
        </div>
        <div class="card-footer">
            <button id="btnCrearTurno" class="btn btn-primary" onclick="Create('@Url.Action("Create", "Turns")')">Crear</button>
            <a asp-action="Index" cclass="btn btn-outline-warning">Cancelar</a>
        </div>
    </form>

</div>


@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
